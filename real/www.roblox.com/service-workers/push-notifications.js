;// bundle: serviceworkers_pushnotifications___2b96c99764f19867209fa1d762331ef8_m
;// files: Fetch.js, common/constants.js, utilities/stringFormat.js, RobloxEventStream.js, Notifications/PushNotifications/EventPublishers/NotificationHandling.js, Notifications/PushNotifications/PushNotificationRegistrationUtilities.js, intl/intl.js, ~/Generated/js/Roblox_TranslationResources_Notifications_PushNotificationsResources_en_us_standard.js, Notifications/PushNotifications/PushNotificationFormatter.js, Notifications/PushNotifications/pushNotificationConstants.js, Notifications/PushNotifications/pushNotificationMessages.js, Notifications/PushNotifications/PushNotificationTypeFormatters/ChatNewMessage.js, Notifications/PushNotifications/PushNotificationTypeFormatters/FriendRequestAccepted.js, Notifications/PushNotifications/PushNotificationTypeFormatters/FriendRequestReceived.js, Notifications/PushNotifications/PushNotificationTypeFormatters/PartyInviteReceived.js, Notifications/PushNotifications/PushNotificationTypeFormatters/PartyMemberJoined.js, Notifications/PushNotifications/PushNotificationTypeFormatters/PrivateMessageReceived.js, Notifications/PushNotifications/PushNotificationTypeFormatters/UserAddedToPrivateServerWhiteList.js, Notifications/PushNotifications/PushNotificationTypeFormatters/TeamCreateInvite.js, ServiceWorker/Workers/PushNotificationServiceWorker.js

;// Fetch.js
typeof Roblox=="undefined"&&(Roblox={}),typeof Roblox.Fetch=="undefined"&&(Roblox.Fetch=function(){function t(n){return fetch(n,{credentials:"include"})}function i(n){return fetch(n)}function r(t,i,r){var u={method:"post",body:i,credentials:"include",headers:new Headers({"Content-Type":"application/json; charset=utf-8"})},f;if(n&&u.headers.append("X-CSRF-TOKEN",n),r)for(f in r)u.headers.set(f,r[f]);return fetch(t,u).then(function(i){if(i.status===403){var r=i.headers.get("X-CSRF-TOKEN");if(r)return n=r,u.headers.set("X-CSRF-TOKEN",n),fetch(t,u)}return i})}function u(t){n=t}var n=null;return{get:t,getWithNoCredentials:i,post:r,setXsrfToken:u}}());

;// common/constants.js
var Roblox=Roblox||{};Roblox.Constants=function(){return{http:{contentType:"application/json; charset=utf-8",dataType:"json",successStatus:"Success"},realTimeNotifications:{friendshipNotifications:{name:"FriendshipNotifications",types:{friendshipCreated:"FriendshipCreated",friendshipDestroyed:"FriendshipDestroyed",friendshipDeclined:"FriendshipDeclined",friendshipRequested:"FriendshipRequested"}},presenceBulkNotifications:{name:"PresenceBulkNotifications",types:{presenceChanged:"PresenceChanged"}}},presenceTypes:{offline:0,online:1,inGame:2,inStudio:3},keyCodes:{enter:13},events:{ClickShareGameToChat:{name:"ShareGameToChat",context:"ClickShareIcon"}}}}();

;// utilities/stringFormat.js
var Roblox=Roblox||{};Roblox.StringFormat=function(){String.prototype.format=function(){var n=arguments;return this.replace(/\{(\d+)\}/g,function(t,i){return n[i]||""})}}();

;// RobloxEventStream.js
typeof Roblox=="undefined"&&(Roblox={}),typeof Roblox.EventStream=="undefined"&&(Roblox.EventStream=function(){function b(){t=!0}function l(n){u=n}function a(n,i){var r,e,f,o,s;return r=t?this.location.href:window.location.href,r&&u&&(e=r.indexOf("?"),e>-1&&(r=r.slice(0,e))),f={evt:n,ctx:i,url:r,lt:(new Date).toISOString()},t||(o=Roblox.Cookies.getGuestId(),o&&(f.gid=o),s=Roblox.Cookies.getSessionId(),s&&(f.sid=s)),f}function i(i,r,u,l){var v="",p,y,b;switch(l){case n.DEFAULT:v=s;break;case n.WWW:v=o;break;case n.STUDIO:v=e;break;case n.DIAGNOSTIC:v=h}if(t&&l!==n.DEFAULT)throw"TargetType '"+l+"' is not supported in Service Worker mode";i&&r&&v!==""&&(p=a(i,r),y=v,y+=v&&v.indexOf("?")===-1?"?":"&",t?(w(u,p),y+=c(u),Roblox.Fetch.getWithNoCredentials(y)):($.extend(u,p),y+=$.param(u),b=new Image,b.src=y),f.LocalEventLog.push({eventName:i,context:r,additionalProperties:u}))}function v(t,r,u){return i(t,r,u,n.DEFAULT)}function y(){return r}function p(n,t,i,u){s=n,o=t,e=i,h=u,r=!0}function w(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}function c(n){var i=[],t;for(t in n)n.hasOwnProperty(t)&&i.push(encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return i.join("&")}var n={DEFAULT:0,WWW:1,STUDIO:2,DIAGNOSTIC:3},s,o,e,h,t=!1,u=!1,r=!1,f={Init:p,isInitialized:y,SendEvent:v,SendEventWithTarget:i,LocalEventLog:[],TargetTypes:n,SetServiceWorkerMode:b,SetExcludeQueryStringFromUrl:l};return f}());

;// Notifications/PushNotifications/EventPublishers/NotificationHandling.js
typeof Roblox=="undefined"&&(Roblox={}),typeof Roblox.PushNotificationEventPublishers=="undefined"&&(Roblox.PushNotificationEventPublishers={}),Roblox.PushNotificationEventPublishers.NotificationHandlingEventTypes={unauthenticated:"unauthenticated",metadataRetrieved:"metadataRetrieved",metadataInaccessible:"metadataInaccessible",fallbackNotificationShown:"fallbackNotificationShown",clicked:"clicked",actionTaken:"actionTaken",dismissed:"dismissed"},Roblox.PushNotificationEventPublishers.NotificationHandling=function(n){"using strict";this.Publish=function(t,i,r,u){try{var f={clientVersion:n};i&&(f.platformType=i),r&&(f.notificationType=r),u&&(f.notificationId=u),Roblox.EventStream.SendEvent("pushNotificationHandling",t,f)}catch(e){}}};

;// Notifications/PushNotifications/PushNotificationRegistrationUtilities.js
typeof Roblox=="undefined"&&(Roblox={}),Roblox.PushNotificationRegistrationUtilities=function(){var n=function(n){return n.endpoint||null},t=function(n){return!n.endpoint||typeof n.endpoint!="string"?null:n.endpoint.substr(n.endpoint.lastIndexOf("index.html")+1)};return{getRegistrationEndpoint:n,getRegistrationToken:t}}();

;// intl/intl.js
(function(n){function t(r){if(i[r])return i[r].exports;var u=i[r]={i:r,l:!1,exports:{}};return n[r].call(u.exports,u,u.exports,t),u.l=!0,u.exports}var i={};return t.m=n,t.c=i,t.d=function(n,i,r){t.o(n,i)||Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:r})},t.n=function(n){var i=n&&n.__esModule?function(){return n["default"]}:function(){return n};return t.d(i,"a",i),i},t.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},t.p="",t(t.s=1)})([function(n,t){"use strict";function u(n){for(var f=Array.prototype.slice.call(arguments,1),t,u,i=0,e=f.length;i<e;i+=1)if(t=f[i],t)for(u in t)r.call(t,u)&&(n[u]=t[u]);return n}Object.defineProperty(t,"__esModule",{value:!0}),t.extend=u;var r=t.hop=Object.prototype.hasOwnProperty},function(n,t,i){"use strict";function e(n){return n&&n.__esModule?n:{"default":n}}var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},o=i(2),u=e(o),s=i(7),h=e(s),c=i(8),l=e(c),f=i(9),a=i(10);u.default.__addLocaleData(h.default),u.default.defaultLocale="en",Roblox=Roblox||{},function(n){var t=function(t,i,r){var s="RobloxLocaleCode",e=!1,u,o;typeof localStorage!="undefined"&&(e=n&&n.LocalStorage?n.LocalStorage.isAvailable():localStorage&&localStorage.getItem&&localStorage.setItem),t||(u=document.querySelector('meta[name="locale-data"]'),u&&u.dataset&&u.dataset.languageCode?t=u.dataset.languageCode:u&&(o=u.getAttribute("data-language-code"),o&&(t=o)),e&&!t&&(t=localStorage.getItem(s)),t||(t="en-us"),t=t.replace(/_/g,"-")),this.locale=t,this.defaultLocale=[t],this.localeApiUrl=u&&u.dataset&&u.dataset.localeApiUrl,this.timeZone=i||"America/Los_Angeles",this.currency=r||"USD",this.monthsList={},this.weekdaysList={},e&&localStorage.setItem(s,this.locale),this.langSensitiveCompare=l.default(this.locale),this.isAsianLanguage=f.isAsianLanguageSelected,this.getFormattedDateString=f.getFormattedDateWithOptionalModifier,this.getMonthsI18n=f.getMonthsListWithOptionalModifier,this.getDateTimeFormatter=function(){return a.getDateTimeFormatter(this.locale)}};t.prototype.getLocale=function(){return this.locale},t.prototype.getLocaleApiUrl=function(){return this.localeApiUrl},t.prototype.getTimeZone=function(){return this.timeZone},t.prototype.getCurrency=function(){return this.currency},t.prototype.f=function(n,t,i){if(typeof n!="string")throw new TypeError("'message' must be a string");var r=new u.default(n,this.locale,i);return r.format(t)},t.prototype.d=function(n,t){if((typeof n=="undefined"?"undefined":r(n))!=="object"||!Date.prototype.isPrototypeOf(n))throw new TypeError("'dateObj' must be a JavaScript date object");var i,u={short:{year:"numeric",month:"2-digit",day:"2-digit"},full:{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"},time:{hour:"2-digit",minute:"2-digit"}};if(typeof t=="string"||t===undefined)i=u[t]||u.short;else if((typeof t=="undefined"?"undefined":r(t))==="object")i=t;else throw new TypeError("'options' must be either of type string or object based on Intl.DateTimeFormat");try{return new Intl.DateTimeFormat(this.defaultLocale,i).format(n)}catch(f){return n.toLocaleString(this.defaultLocale)}},t.prototype.n=function(n,t){if(isNaN(n))throw new TypeError("The argument 'number' must be of type number");var i,u={currency:{style:"currency",currency:this.currency},percent:{style:"percent",maximumFractionDigits:2},decimal:{style:"decimal",maximumFractionDigits:2}};if(typeof t=="string"||t===undefined)i=u[t]||u.decimal;else if((typeof t=="undefined"?"undefined":r(t))==="object")i=t;else throw new TypeError("'options' must be of type string or object based on Intl.NumberFormat");try{return new Intl.NumberFormat(this.defaultLocale,i).format(n)}catch(f){return n}},t.prototype.getMonthsList=function(n){var r=["numeric","2-digit","narrow","short","long"],t=r.indexOf(n)>-1?n:"short",u=2017,f=this,i;return this.monthsList[t]&&this.monthsList[t].length>0?this.monthsList[t]:(i=[1,2,3,4,5,6,7,8,9,10,11,12].map(function(n){return new Date(u,n-1)}),this.monthsList[t]=i.map(function(n,i){return{value:i+1,name:Intl.DateTimeFormat(f.locale,{month:t}).format(n)}}))},t.prototype.getWeekdaysList=function(n){var r=["narrow","short","long"],t=r.indexOf(n)>-1?n:"short",u=2017,f=4,e=this,i;return this.weekdaysList[t]&&this.weekdaysList[t].length>0?this.weekdaysList[t]:(i=[1,2,3,4,5,6,7].map(function(n){return new Date(u,f,n)}),this.weekdaysList[t]=i.map(function(n,i){return{value:i+1,name:Intl.DateTimeFormat(e.locale,{weekday:t}).format(n)}}))},n.Intl=t}(Roblox)},function(n,t,i){"use strict";function e(n){return n&&n.__esModule?n:{"default":n}}function r(n,t,i){var f=typeof n=="string"?r.__parse(n):n;if(!(f&&f.type==="messageFormatPattern"))throw new TypeError("A message must be provided as a String or AST.");i=this._mergeFormats(r.formats,i),u.defineProperty(this,"_locale",{value:this._resolveLocale(t)});var e=this._findPluralRuleFunction(this._locale),o=this._compilePattern(f,t,i,e),s=this;this.format=function(n){return s._format(o,n)}}Object.defineProperty(t,"__esModule",{value:!0});var f=i(0),u=i(3),o=i(4),s=e(o),h=i(5),c=e(h);t.default=r,u.defineProperty(r,"formats",{enumerable:!0,value:{number:{currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}}}),u.defineProperty(r,"__localeData__",{value:u.objCreate(null)}),u.defineProperty(r,"__addLocaleData",{value:function(n){if(!(n&&n.locale))throw new Error("Locale data provided to IntlMessageFormat is missing a `locale` property");r.__localeData__[n.locale.toLowerCase()]=n}}),u.defineProperty(r,"__parse",{value:c.default.parse}),u.defineProperty(r,"defaultLocale",{enumerable:!0,writable:!0,value:undefined}),r.prototype.resolvedOptions=function(){return{locale:this._locale}},r.prototype._compilePattern=function(n,t,i,r){var u=new s.default(t,i,r);return u.compile(n)},r.prototype._findPluralRuleFunction=function(n){for(var i=r.__localeData__,t=i[n.toLowerCase()];t;){if(t.pluralRuleFunction)return t.pluralRuleFunction;t=t.parentLocale&&i[t.parentLocale.toLowerCase()]}throw new Error("Locale data added to IntlMessageFormat is missing a `pluralRuleFunction` for :"+n);},r.prototype._format=function(n,t){for(var r="",i,e,o,u=0,s=n.length;u<s;u+=1){if(i=n[u],typeof i=="string"){r+=i;continue}if(e=i.id,!(t&&f.hop.call(t,e)))throw new Error("A value must be provided for: "+e);o=t[e],r+=i.options?this._format(i.getOption(o),t):i.format(o)}return r},r.prototype._mergeFormats=function(n,t){var r={},i,e;for(i in n)f.hop.call(n,i)&&(r[i]=e=u.objCreate(n[i]),t&&f.hop.call(t,i)&&f.extend(e,t[i]));return r},r.prototype._resolveLocale=function(n){var f,t,e,i,u,o;for(typeof n=="string"&&(n=[n]),n=(n||[]).concat(r.defaultLocale),f=r.__localeData__,t=0,e=n.length;t<e;t+=1)for(i=n[t].toLowerCase().split("-");i.length;){if(u=f[i.join("-")],u)return u.locale;i.pop()}o=n.pop();throw new Error("No locale data has been added to IntlMessageFormat for: "+n.join(", ")+", or the default locale: "+o);}},function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.objCreate=t.defineProperty=undefined;var r=i(0),u=function(){try{return!!Object.defineProperty({},"a",{})}catch(n){return!1}}(),o=!u&&!Object.prototype.__defineGetter__,f=u?Object.defineProperty:function(n,t,i){"get"in i&&n.__defineGetter__?n.__defineGetter__(t,i.get):(!r.hop.call(n,t)||"value"in i)&&(n[t]=i.value)},e=Object.create||function(n,t){function e(){}var u,i;e.prototype=n,u=new e;for(i in t)r.hop.call(t,i)&&f(u,i,t[i]);return u};t.defineProperty=f,t.objCreate=e},function(n,t){"use strict";function r(n,t,i){this.locales=n,this.formats=t,this.pluralFn=i}function u(n){this.id=n}function f(n,t,i,r,u){this.id=n,this.useOrdinal=t,this.offset=i,this.options=r,this.pluralFn=u}function e(n,t,i,r){this.id=n,this.offset=t,this.numberFormat=i,this.string=r}function o(n,t){this.id=n,this.options=t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,r.prototype.compile=function(n){return this.pluralStack=[],this.currentPlural=null,this.pluralNumberFormat=null,this.compileMessage(n)},r.prototype.compileMessage=function(n){if(!(n&&n.type==="messageFormatPattern"))throw new Error('Message AST is not of type: "messageFormatPattern"');for(var u=n.elements,r=[],i,t=0,f=u.length;t<f;t+=1){i=u[t];switch(i.type){case"messageTextElement":r.push(this.compileMessageText(i));break;case"argumentElement":r.push(this.compileArgument(i));break;default:throw new Error("Message element does not have a valid type");}}return r},r.prototype.compileMessageText=function(n){return this.currentPlural&&/(^|[^\\])#/g.test(n.value)?(this.pluralNumberFormat||(this.pluralNumberFormat=new Intl.NumberFormat(this.locales)),new e(this.currentPlural.id,this.currentPlural.format.offset,this.pluralNumberFormat,n.value)):n.value.replace(/\\#/g,"#")},r.prototype.compileArgument=function(n){var i=n.format;if(!i)return new u(n.id);var r=this.formats,e=this.locales,s=this.pluralFn,t;switch(i.type){case"numberFormat":return t=r.number[i.style],{id:n.id,format:new Intl.NumberFormat(e,t).format};case"dateFormat":return t=r.date[i.style],{id:n.id,format:new Intl.DateTimeFormat(e,t).format};case"timeFormat":return t=r.time[i.style],{id:n.id,format:new Intl.DateTimeFormat(e,t).format};case"pluralFormat":return t=this.compileOptions(n),new f(n.id,i.ordinal,i.offset,t,s);case"selectFormat":return t=this.compileOptions(n),new o(n.id,t);default:throw new Error("Message element does not have a valid format type");}},r.prototype.compileOptions=function(n){var r=n.format,u=r.options,f={},t,e,i;for(this.pluralStack.push(this.currentPlural),this.currentPlural=r.type==="pluralFormat"?n:null,t=0,e=u.length;t<e;t+=1)i=u[t],f[i.selector]=this.compileMessage(i.value);return this.currentPlural=this.pluralStack.pop(),f},u.prototype.format=function(n){return!n&&typeof n!="number"?"":typeof n=="string"?n:String(n)},f.prototype.getOption=function(n){var t=this.options,i=t["="+n]||t[this.pluralFn(n-this.offset,this.useOrdinal)];return i||t.other},e.prototype.format=function(n){var t=this.numberFormat.format(n-this.offset);return this.string.replace(/(^|[^\\])#/g,"$1"+t).replace(/\\#/g,"#")},o.prototype.getOption=function(n){var t=this.options;return t[n]||t.other}},function(n,t,i){"use strict";t=n.exports=i(6)["default"],t["default"]=t},function(n,t){"use strict";t["default"]=function(){function t(n,t){function i(){this.constructor=n}i.prototype=t.prototype,n.prototype=new i}function n(t,i,r,u){this.message=t,this.expected=i,this.found=r,this.location=u,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,n)}function i(t){function h(){return c(e,r)}function et(n){var i=w[n],r,u;if(i)return i;for(r=n-1;!w[r];)r--;for(i=w[r],i={line:i.line,column:i.column,seenCR:i.seenCR};r<n;)u=t.charAt(r),u==="\n"?(i.seenCR||i.line++,i.column=1,i.seenCR=!1):u==="\r"||u==="\u2028"||u==="\u2029"?(i.line++,i.column=1,i.seenCR=!0):(i.column++,i.seenCR=!1),r++;return w[n]=i,i}function c(n,t){var i=et(n),r=et(t);return{start:{offset:n,line:i.line,column:i.column},end:{offset:t,line:r.line,column:r.column}}}function f(n){r<s||(r>s&&(s=r,tt=[]),tt.push(n))}function g(t,i,r,u){function f(n){var t=1;for(n.sort(function(n,t){return n.description<t.description?-1:n.description>t.description?1:0});t<n.length;)n[t-1]===n[t]?n.splice(t,1):t++}function e(n,t){function e(n){function t(n){return n.charCodeAt(0).toString(16).toUpperCase()}return n.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(n){return"\\x0"+t(n)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(n){return"\\x"+t(n)}).replace(/[\u0100-\u0FFF]/g,function(n){return"\\u0"+t(n)}).replace(/[\u1000-\uFFFF]/g,function(n){return"\\u"+t(n)})}for(var r=new Array(n.length),u,f,i=0;i<n.length;i++)r[i]=n[i].description;return u=n.length>1?r.slice(0,-1).join(", ")+" or "+r[n.length-1]:r[0],f=t?'"'+e(t)+'"':"end of input","Expected "+u+" but "+f+" found."}return i!==null&&f(i),new n(t!==null?t:e(i,r),i,r,u)}function ut(){var n;return n=rt()}function rt(){var t,n,u;for(t=r,n=[],u=ct();u!==i;)n.push(u),u=ct();return n!==i&&(e=t,n=di(n)),t=n}function ct(){var n;return n=fr(),n===i&&(n=ir()),n}function yi(){var s,u,n,f,h,c;if(s=r,u=[],n=r,f=o(),f!==i?(h=b(),h!==i?(c=o(),c!==i?(f=[f,h,c],n=f):(r=n,n=i)):(r=n,n=i)):(r=n,n=i),n!==i)while(n!==i)u.push(n),n=r,f=o(),f!==i?(h=b(),h!==i?(c=o(),c!==i?(f=[f,h,c],n=f):(r=n,n=i)):(r=n,n=i)):(r=n,n=i);else u=i;return u!==i&&(e=s,u=bi(u)),s=u,s===i&&(s=r,u=nt(),s=u!==i?t.substring(s,r):u),s}function fr(){var t,n;return t=r,n=yi(),n!==i&&(e=t,n=wi(n)),t=n}function rr(){var n,o,e;if(n=d(),n===i){if(n=r,o=[],st.test(t.charAt(r))?(e=t.charAt(r),r++):(e=i,u===0&&f(ht)),e!==i)while(e!==i)o.push(e),st.test(t.charAt(r))?(e=t.charAt(r),r++):(e=i,u===0&&f(ht));else o=i;n=o!==i?t.substring(n,r):o}return n}function ir(){var n,v,w,y,b,s,h,c,p;return n=r,t.charCodeAt(r)===123?(v=lt,r++):(v=i,u===0&&f(vt)),v!==i?(w=o(),w!==i?(y=rr(),y!==i?(b=o(),b!==i?(s=r,t.charCodeAt(r)===44?(h=l,r++):(h=i,u===0&&f(a)),h!==i?(c=o(),c!==i?(p=tr(),p!==i?(h=[h,c,p],s=h):(r=s,s=i)):(r=s,s=i)):(r=s,s=i),s===i&&(s=null),s!==i?(h=o(),h!==i?(t.charCodeAt(r)===125?(c=wt,r++):(c=i,u===0&&f(yt)),c!==i?(e=n,v=er(y,s),n=v):(r=n,n=i)):(r=n,n=i)):(r=n,n=i)):(r=n,n=i)):(r=n,n=i)):(r=n,n=i)):(r=n,n=i),n}function tr(){var n;return n=nr(),n===i&&(n=gi(),n===i&&(n=ki(),n===i&&(n=pi()))),n}function nr(){var h,n,p,s,c,v,y;return h=r,t.substr(r,6)===ti?(n=ti,r+=6):(n=i,u===0&&f(tu)),n===i&&(t.substr(r,4)===ri?(n=ri,r+=4):(n=i,u===0&&f(nu)),n===i&&(t.substr(r,4)===ui?(n=ui,r+=4):(n=i,u===0&&f(gr)))),n!==i?(p=o(),p!==i?(s=r,t.charCodeAt(r)===44?(c=l,r++):(c=i,u===0&&f(a)),c!==i?(v=o(),v!==i?(y=b(),y!==i?(c=[c,v,y],s=c):(r=s,s=i)):(r=s,s=i)):(r=s,s=i),s===i&&(s=null),s!==i?(e=h,n=dr(n,s),h=n):(r=h,h=i)):(r=h,h=i)):(r=h,h=i),h}function gi(){var n,s,v,h,y,c;return n=r,t.substr(r,6)===ei?(s=ei,r+=6):(s=i,u===0&&f(kr)),s!==i?(v=o(),v!==i?(t.charCodeAt(r)===44?(h=l,r++):(h=i,u===0&&f(a)),h!==i?(y=o(),y!==i?(c=oi(),c!==i?(e=n,s=br(c),n=s):(r=n,n=i)):(r=n,n=i)):(r=n,n=i)):(r=n,n=i)):(r=n,n=i),n}function ki(){var n,s,v,h,y,c;return n=r,t.substr(r,13)===si?(s=si,r+=13):(s=i,u===0&&f(iu)),s!==i?(v=o(),v!==i?(t.charCodeAt(r)===44?(h=l,r++):(h=i,u===0&&f(a)),h!==i?(y=o(),y!==i?(c=oi(),c!==i?(e=n,s=wr(c),n=s):(r=n,n=i)):(r=n,n=i)):(r=n,n=i)):(r=n,n=i)):(r=n,n=i),n}function pi(){var n,s,p,v,w,h,c;if(n=r,t.substr(r,6)===ni?(s=ni,r+=6):(s=i,u===0&&f(yr)),s!==i)if(p=o(),p!==i)if(t.charCodeAt(r)===44?(v=l,r++):(v=i,u===0&&f(a)),v!==i)if(w=o(),w!==i){if(h=[],c=y(),c!==i)while(c!==i)h.push(c),c=y();else h=i;h!==i?(e=n,s=vr(h),n=s):(r=n,n=i)}else r=n,n=i;else r=n,n=i;else r=n,n=i;else r=n,n=i;return n}function vi(){var e,n,o,s;return e=r,n=r,t.charCodeAt(r)===61?(o=ar,r++):(o=i,u===0&&f(lr)),o!==i?(s=d(),s!==i?(o=[o,s],n=o):(r=n,n=i)):(r=n,n=i),e=n!==i?t.substring(e,r):n,e===i&&(e=b()),e}function y(){var n,s,h,v,c,y,l,p,a;return n=r,s=o(),s!==i?(h=vi(),h!==i?(v=o(),v!==i?(t.charCodeAt(r)===123?(c=lt,r++):(c=i,u===0&&f(vt)),c!==i?(y=o(),y!==i?(l=rt(),l!==i?(p=o(),p!==i?(t.charCodeAt(r)===125?(a=wt,r++):(a=i,u===0&&f(yt)),a!==i?(e=n,s=cr(h,l),n=s):(r=n,n=i)):(r=n,n=i)):(r=n,n=i)):(r=n,n=i)):(r=n,n=i)):(r=n,n=i)):(r=n,n=i)):(r=n,n=i),n}function ai(){var n,s,c,h;return n=r,t.substr(r,7)===ii?(s=ii,r+=7):(s=i,u===0&&f(hr)),s!==i?(c=o(),c!==i?(h=d(),h!==i?(e=n,s=pr(h),n=s):(r=n,n=i)):(r=n,n=i)):(r=n,n=i),n}function oi(){var n,t,s,u,f;if(n=r,t=ai(),t===i&&(t=null),t!==i)if(s=o(),s!==i){if(u=[],f=y(),f!==i)while(f!==i)u.push(f),f=y();else u=i;u!==i?(e=n,t=uu(t,u),n=t):(r=n,n=i)}else r=n,n=i;else r=n,n=i;return n}function nt(){var e,n;if(u++,e=[],it.test(t.charAt(r))?(n=t.charAt(r),r++):(n=i,u===0&&f(dt)),n!==i)while(n!==i)e.push(n),it.test(t.charAt(r))?(n=t.charAt(r),r++):(n=i,u===0&&f(dt));else e=i;return u--,e===i&&(n=i,u===0&&f(au)),e}function o(){var n,e,o;for(u++,n=r,e=[],o=nt();o!==i;)e.push(o),o=nt();return n=e!==i?t.substring(n,r):e,u--,n===i&&(e=i,u===0&&f(fu)),n}function fi(){var n;return gu.test(t.charAt(r))?(n=t.charAt(r),r++):(n=i,u===0&&f(du)),n}function v(){var n;return ku.test(t.charAt(r))?(n=t.charAt(r),r++):(n=i,u===0&&f(bu)),n}function d(){var h,n,o,s,c,l;if(h=r,t.charCodeAt(r)===48?(n=wu,r++):(n=i,u===0&&f(pu)),n===i){if(n=r,o=r,yu.test(t.charAt(r))?(s=t.charAt(r),r++):(s=i,u===0&&f(nf)),s!==i){for(c=[],l=fi();l!==i;)c.push(l),l=fi();c!==i?(s=[s,c],o=s):(r=o,o=i)}else r=o,o=i;n=o!==i?t.substring(n,r):o}return n!==i&&(e=h,n=tf(n)),h=n}function ot(){var n,o,h,s,c,l,a,y;return vu.test(t.charAt(r))?(n=t.charAt(r),r++):(n=i,u===0&&f(lu)),n===i&&(n=r,t.substr(r,2)===kt?(o=kt,r+=2):(o=i,u===0&&f(cu)),o!==i&&(e=n,o=hu()),n=o,n===i&&(n=r,t.substr(r,2)===at?(o=at,r+=2):(o=i,u===0&&f(su)),o!==i&&(e=n,o=or()),n=o,n===i&&(n=r,t.substr(r,2)===pt?(o=pt,r+=2):(o=i,u===0&&f(ou)),o!==i&&(e=n,o=eu()),n=o,n===i&&(n=r,t.substr(r,2)===bt?(o=bt,r+=2):(o=i,u===0&&f(sr)),o!==i&&(e=n,o=ru()),n=o,n===i&&(n=r,t.substr(r,2)===gt?(o=gt,r+=2):(o=i,u===0&&f(ur)),o!==i?(h=r,s=r,c=v(),c!==i?(l=v(),l!==i?(a=v(),a!==i?(y=v(),y!==i?(c=[c,l,a,y],s=c):(r=s,s=i)):(r=s,s=i)):(r=s,s=i)):(r=s,s=i),h=s!==i?t.substring(h,r):s,h!==i?(e=n,o=ci(h),n=o):(r=n,n=i)):(r=n,n=i)))))),n}function b(){var u,n,t;if(u=r,n=[],t=ot(),t!==i)while(t!==i)n.push(t),t=ot();else n=i;return n!==i&&(e=u,n=li(n)),u=n}var k=arguments.length>1?arguments[1]:{},rf=this,i={},hi={start:ut},ft=ut,di=function(n){return{type:"messageFormatPattern",elements:n,location:h()}},bi=function(n){for(var u="",i,r,e,t=0,f=n.length;t<f;t+=1)for(r=n[t],i=0,e=r.length;i<e;i+=1)u+=r[i];return u},wi=function(n){return{type:"messageTextElement",value:n,location:h()}},st=/^[^ \t\n\r,.+={}#]/,ht={type:"class",value:"[^ \\t\\n\\r,.+={}#]",description:"[^ \\t\\n\\r,.+={}#]"},lt="{",vt={type:"literal",value:"{",description:'"{"'},l=",",a={type:"literal",value:",",description:'","'},wt="}",yt={type:"literal",value:"}",description:'"}"'},er=function(n,t){return{type:"argumentElement",id:n,format:t&&t[2],location:h()}},ti="number",tu={type:"literal",value:"number",description:'"number"'},ri="date",nu={type:"literal",value:"date",description:'"date"'},ui="time",gr={type:"literal",value:"time",description:'"time"'},dr=function(n,t){return{type:n+"Format",style:t&&t[2],location:h()}},ei="plural",kr={type:"literal",value:"plural",description:'"plural"'},br=function(n){return{type:n.type,ordinal:!1,offset:n.offset||0,options:n.options,location:h()}},si="selectordinal",iu={type:"literal",value:"selectordinal",description:'"selectordinal"'},wr=function(n){return{type:n.type,ordinal:!0,offset:n.offset||0,options:n.options,location:h()}},ni="select",yr={type:"literal",value:"select",description:'"select"'},vr=function(n){return{type:"selectFormat",options:n,location:h()}},ar="=",lr={type:"literal",value:"=",description:'"="'},cr=function(n,t){return{type:"optionalFormatPattern",selector:n,value:t,location:h()}},ii="offset:",hr={type:"literal",value:"offset:",description:'"offset:"'},pr=function(n){return n},uu=function(n,t){return{type:"pluralFormat",offset:n,options:t,location:h()}},au={type:"other",description:"whitespace"},it=/^[ \t\n\r]/,dt={type:"class",value:"[ \\t\\n\\r]",description:"[ \\t\\n\\r]"},fu={type:"other",description:"optionalWhitespace"},gu=/^[0-9]/,du={type:"class",value:"[0-9]",description:"[0-9]"},ku=/^[0-9a-f]/i,bu={type:"class",value:"[0-9a-f]i",description:"[0-9a-f]i"},wu="0",pu={type:"literal",value:"0",description:'"0"'},yu=/^[1-9]/,nf={type:"class",value:"[1-9]",description:"[1-9]"},tf=function(n){return parseInt(n,10)},vu=/^[^{}\\\0-\x1F \t\n\r]/,lu={type:"class",value:"[^{}\\\\\\0-\\x1F\\x7f \\t\\n\\r]",description:"[^{}\\\\\\0-\\x1F\\x7f \\t\\n\\r]"},kt="\\\\",cu={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},hu=function(){return"\\"},at="\\#",su={type:"literal",value:"\\#",description:'"\\\\#"'},or=function(){return"\\#"},pt="\\{",ou={type:"literal",value:"\\{",description:'"\\\\{"'},eu=function(){return"{"},bt="\\}",sr={type:"literal",value:"\\}",description:'"\\\\}"'},ru=function(){return"}"},gt="\\u",ur={type:"literal",value:"\\u",description:'"\\\\u"'},ci=function(n){return String.fromCharCode(parseInt(n,16))},li=function(n){return n.join("")},r=0,e=0,w=[{line:1,column:1,seenCR:!1}],s=0,tt=[],u=0,p;if("startRule"in k){if(!(k.startRule in hi))throw new Error("Can't start parsing from rule \""+k.startRule+'".');ft=hi[k.startRule]}if(p=ft(),p!==i&&r===t.length)return p;p!==i&&r<t.length&&f({type:"end",description:"end of input"});throw g(null,tt,s<t.length?t.charAt(s):null,s<t.length?c(s,s+1):c(s,s));}return t(n,Error),{SyntaxError:n,parse:i}}()},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={locale:"en",pluralRuleFunction:function(n,t){var i=String(n).split("."),e=!i[1],f=Number(i[0])==n,r=f&&i[0].slice(-1),u=f&&i[0].slice(-2);return t?r==1&&u!=11?"one":r==2&&u!=12?"two":r==3&&u!=13?"few":"other":n==1&&e?"one":"other"}}},function(n,t){"use strict";function r(){return typeof Intl.Collator!="undefined"}function u(){if(typeof String.prototype.localeCompare!="undefined")try{"foo".localeCompare("bar","i")}catch(n){return n.name==="RangeError"}return!1}function f(n,t){return n<t?-1:n>t?1:0}function e(n){return r()?new Intl.Collator(n).compare:u()?function(t,i){return t.localeCompare(i,n)}:f}Object.defineProperty(t,"__esModule",{value:!0}),t.default=e},function(n,t){"use strict";function h(){return u(this.locale)}function c(n,t){return f(this,n,t)}function l(n,t){return s(this,n,t)}var r;Object.defineProperty(t,"__esModule",{value:!0}),t.isAsianLanguageSelected=h,t.getFormattedDateWithOptionalModifier=c,t.getMonthsListWithOptionalModifier=l,r=r||{},r.Intl=r.Intl||{};var e=["zh-cn","zh-tw","ko-kr","ja-jp"],o=["zh-tw"],u=function(n){var t=e.indexOf(n)+1;return!!(n&&t)},f=function(n,t,i){return u(n.locale)&&i?o.indexOf(n.locale)>=0?t+" "+i:t+i:t},s=function(n,t,i){var o=["numeric","2-digit","narrow","short","long"],r=o.indexOf(t)>-1?t:"short",s=2017,e;return n.monthsList[r]&&n.monthsList[r].length>0?n.monthsList[r]:(e=[1,2,3,4,5,6,7,8,9,10,11,12].map(function(n){return new Date(s,n-1)}),n.monthsList[r]=e.map(function(t,e){var o;return o=u(n.locale)?{value:e+1,name:f(n,e+1,i)}:{value:e+1,name:Intl.DateTimeFormat(n.locale,{month:r}).format(t)}}))}},function(n,t){"use strict";function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function s(n){return new o(n)}var u;Object.defineProperty(t,"__esModule",{value:!0}),u=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),t.getDateTimeFormatter=s;var f=[{year:"numeric",month:"short",day:"numeric"},{hour:"numeric",minute:"numeric",hour12:!0}],r={filteredOutPartType:"literal",defaultDelimiter:" | ",partOneDefault:"month",partTwoDefault:"day",partThreeDefault:"year"},o=function(){function n(t){e(this,n),this.locale=t}return u(n,[{key:"getShortDate",value:function(n){return this.getCustomDateTime(n)}},{key:"getFullDate",value:function(n){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:r.defaultDelimiter,i=this.getCustomDateTime(n,f[0]),u=this.getCustomDateTime(n,f[1]);return i+t+u}},{key:"getOrderedDateParts",value:function(n){var i=new Intl.DateTimeFormat(this.locale,n),t=void 0;try{t=i.formatToParts(new Date)}catch(u){t=[{type:r.partOneDefault},{type:r.partTwoDefault},{type:r.partThreeDefault}]}return t.filter(function(n){return n.type!==r.filteredOutPartType})}},{key:"getCustomDateTime",value:function(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new Date,i=arguments[1],t;(typeof n=="string"||typeof n=="number")&&(n=new Date(n)),t=new Intl.DateTimeFormat(this.locale,i);try{return t.format(n)}catch(r){return""}}}]),n}()}]);

;// ~/Generated/js/Roblox_TranslationResources_Notifications_PushNotificationsResources_en_us_standard.js
var Roblox=Roblox||{};Roblox.Lang=Roblox.Lang||{},Roblox.Lang["Notifications.PushNotifications"]={"Message.AddedToPrivateServerWhiteList":"{inviter} added you to their private server, {server}, at {place}!","Message.AddedToPrivateServerWhiteList.AddedToWhiteListMessage":"{vipInviter} added you to their VIP server, {server}, at {place}!","Message.AddedToPrivateServerWhiteListDefault":"You have a been invited to a private server!","Message.DefaultExperienceInviteMessage":"{displayName} is inviting you to join {experienceName}!","Message.DefaultExperienceInviteTitle":"Invite from {displayName} @{username}","Message.DefaultSystemMessage.Body":"New activity on Roblox!","Message.DefaultSystemMessage.Title":"Roblox","Message.FriendRequestAccepted.AcceptedMessage":"{friend} accepted your friend request!","Message.FriendRequestAccepted.Default":"Your friend request has been accepted!","Message.FriendRequestReceived.CompleteMessage":"You are now friends with {friend}!","Message.FriendRequestReceived.Default":"You have a new friend request!","Message.FriendRequestReceived.NewRequestMessage":"{friend} sent you a friend request!","Message.NewChatMessage.Default":"You have a new chat message.","Message.NewChatMessage.ReceivedGroupMessage":"{senderUserName} to {conversationTitle}: {messageContent}","Message.NewChatMessage.ReceivedMessage":"{friend}: {message}","Message.PartyInvitation.Default":"You are invited to a party!","Message.PartyInvitation.PartyMessage":"{partyInviter} invited you to a party!","Message.PartyInvitation.XBoxPartyMessage":"{partyInviter} invited you to an XBOX party!","Message.PartyMembersJoined.Default":"A new member joined your party!","Message.PartyMembersJoined.JoinMessage":"{partyInvitee} joined your party!","Message.PrivateMessageReceived.Default":"You have a new private message.","Message.PrivateMessageReceived.MessageReceived":"{messageSender} sent you a new private message.","Message.TeamCreateInvitation":"{inviter} invited you to edit the experience: {gameName}!","Message.TeamCreateInvitation.Default":"You are invited to edit an experience!","Message.VirtualEventOngoingBody":"Join the event now","Message.VirtualEventOngoingTitle":"Happening Now: {title}","Messages.PlayTogether":"{actorUsername} chose a game to visit together: {universeName}"},Roblox.Lang.PushNotificationsResources=Roblox.Lang["Notifications.PushNotifications"];

;// Notifications/PushNotifications/PushNotificationFormatter.js
var Roblox=Roblox||{};Roblox.PushNotificationFormatter=function(){var t=function(n){var t=Roblox.PushNotificationTypeFormatters&&Roblox.PushNotificationTypeFormatters[n];return t?t:{}},n=function(n){var t=Roblox.PushNotificationMessages.defaultSystemMessage;return n&&(t.icon=n),t},i=function(i,r){var f=n(r),e,u;return i.notificationId&&(f.data.notificationId=i.notificationId),e=i.type,f.data.type=e,u=t(e),u.getTitle&&(f.title=u.getTitle(i)),u.getBody&&i.detail&&(f.body=u.getBody(i)),u.getTag&&(f.tag=u.getTag(i)),u.getOnClickRules&&(f.data.onClickRules=u.getOnClickRules(i)),f};return{getDefaultNotificationData:n,getFormattedNotificationData:i}}();

;// Notifications/PushNotifications/pushNotificationConstants.js
Roblox=Roblox||{},Roblox.PushNotificationConstants=function(){return{partyInvitation:{xboxPartyType:"Xbox"},notificationTimeout:{enabled:!1,period:8e3}}}();

;// Notifications/PushNotifications/pushNotificationMessages.js
Roblox=Roblox||{},Roblox.PushNotificationMessages=function(){var t=new Roblox.Intl("en-us"),n=Roblox.Lang.PushNotificationsResources;return{newChatMessage:{"default":t.f(n["Message.NewChatMessage.Default"])},friendRequestAccepted:{acceptedMessage:function(i){return t.f(n["Message.FriendRequestAccepted.AcceptedMessage"],{friend:i})},"default":n["Message.FriendRequestAccepted.Default"]},friendRequestReceived:{completeMessage:function(i){return t.f(n["Message.FriendRequestReceived.CompleteMessage"],{friend:i})},newRequestMessage:function(i){return t.f(n["Message.FriendRequestReceived.NewRequestMessage"],{friend:i})},"default":n["Message.FriendRequestReceived.Default"]},partyInvitation:{xBoxPartyMessage:function(i){return t.f(n["Message.PartyInvitation.XBoxPartyMessage"],{partyInviter:i})},partyMessage:function(i){return t.f(n["Message.PartyInvitation.PartyMessage"],{partyInviter:i})},"default":n["Message.PartyInvitation.Default"]},partyMembersJoined:{joinMessage:function(i){return t.f(n["Message.PartyMembersJoined.JoinMessage"],{partyInvitee:i})},"default":n["Message.PartyMembersJoined.Default"]},privateMessageReceived:{messageReceived:function(i){return t.f(n["Message.PrivateMessageReceived.MessageReceived"],{messageSender:i})},"default":n["Message.PrivateMessageReceived.Default"]},addedToPrivateServerWhiteList:{addedToWhiteListMessage:function(i,r,u){return t.f(n["Message.AddedToPrivateServerWhiteList"],{vipInviter:i,server:r,place:u})},"default":n["Message.AddedToPrivateServerWhiteListDefault"]},teamCreateInvite:{inviteReceived:function(i,r){return t.f(n["Message.TeamCreateInvitation"],{inviter:i,gameName:r})},"default":n["Message.TeamCreateInvitation.Default"]},defaultSystemMessage:{icon:"/images/Notifications/push_notifications_12202016.png",title:n["Message.DefaultSystemMessage.Title"],body:n["Message.DefaultSystemMessage.Body"],tag:"UnknownType",data:{}}}}();

;// Notifications/PushNotifications/PushNotificationTypeFormatters/ChatNewMessage.js
var Roblox=Roblox||{};Roblox.PushNotificationTypeFormatters=Roblox.PushNotificationTypeFormatters||{},Roblox.PushNotificationTypeFormatters.ChatNewMessage={getBody:function(n){var t=n.detail.MessageContent||Roblox.PushNotificationMessages.newChatMessage.default;return n.detail.SenderUserName?n.detail.SenderUserName+": "+t:t},getTag:function(n){return n.detail.Category},getOnClickRules:function(){return{path:"",matchAny:!0}}};

;// Notifications/PushNotifications/PushNotificationTypeFormatters/FriendRequestAccepted.js
var Roblox=Roblox||{};Roblox.PushNotificationTypeFormatters=Roblox.PushNotificationTypeFormatters||{},Roblox.PushNotificationTypeFormatters.FriendRequestAccepted={getBody:function(n){var t=Roblox.PushNotificationMessages.friendRequestAccepted;return n.detail.AccepterUserName?t.acceptedMessage(n.detail.AccepterUserName):t.default},getTag:function(n){return n.type},getOnClickRules:function(n){return{path:n.detail.AccepterUserId?"/users/"+n.detail.AccepterUserId+"/profile":"/home"}}};

;// Notifications/PushNotifications/PushNotificationTypeFormatters/FriendRequestReceived.js
var Roblox=Roblox||{};Roblox.PushNotificationTypeFormatters=Roblox.PushNotificationTypeFormatters||{},Roblox.PushNotificationTypeFormatters.FriendRequestReceived={getBody:function(n){var t=Roblox.PushNotificationMessages.friendRequestReceived;return n.detail.IsAccepted&&n.detail.SenderUserName?t.completeMessage(n.detail.SenderUserName):n.detail.SenderUserName?t.newRequestMessage(n.detail.SenderUserName):t.default},getTag:function(n){return n.type},getOnClickRules:function(n){return{path:n.detail.SenderUserId?"/users/"+n.detail.SenderUserId+"/profile":"/users/friends#!/friend-requests"}}};

;// Notifications/PushNotifications/PushNotificationTypeFormatters/PartyInviteReceived.js
var Roblox=Roblox||{};Roblox.PushNotificationTypeFormatters=Roblox.PushNotificationTypeFormatters||{},Roblox.PushNotificationTypeFormatters.PartyInviteReceived={getBody:function(n){var i=Roblox.PushNotificationConstants.partyInvitation,t=Roblox.PushNotificationMessages.partyInvitation;return n.detail.SenderUserName?n.detail.WalledGarden===i.xboxPartyType?t.xBoxPartyMessage(n.detail.SenderUserName):t.partyMessage(n.detail.SenderUserName):t.default},getTag:function(n){return n.detail.Category},getOnClickRules:function(){return{path:"",matchAny:!0}}};

;// Notifications/PushNotifications/PushNotificationTypeFormatters/PartyMemberJoined.js
var Roblox=Roblox||{};Roblox.PushNotificationTypeFormatters=Roblox.PushNotificationTypeFormatters||{},Roblox.PushNotificationTypeFormatters.PartyMemberJoined={getBody:function(n){var t=Roblox.PushNotificationMessages.partyMembersJoined;return n.detail.AccepterUserName?t.joinMessage(n.detail.AccepterUserName):t.default},getTag:function(n){return n.detail.Category},getOnClickRules:function(){return{path:"",matchAny:!0}}};

;// Notifications/PushNotifications/PushNotificationTypeFormatters/PrivateMessageReceived.js
var Roblox=Roblox||{};Roblox.PushNotificationTypeFormatters=Roblox.PushNotificationTypeFormatters||{},Roblox.PushNotificationTypeFormatters.PrivateMessageReceived={getBody:function(n){var t=Roblox.PushNotificationMessages.privateMessageReceived;return n.detail.AuthorUserName?t.messageReceived(n.detail.AuthorUserName):t.default},getTag:function(n){return n.type},getOnClickRules:function(n){return{path:n.detail.MessageId?"/my/messages/#!/inbox?conversationId="+n.detail.MessageId:"/my/messages/#!/inbox",matchAny:!1}}};

;// Notifications/PushNotifications/PushNotificationTypeFormatters/UserAddedToPrivateServerWhiteList.js
var Roblox=Roblox||{};Roblox.PushNotificationTypeFormatters=Roblox.PushNotificationTypeFormatters||{},Roblox.PushNotificationTypeFormatters.UserAddedToPrivateServerWhiteList={getBody:function(n){var t=Roblox.PushNotificationMessages.addedToPrivateServerWhiteList;return n.detail.OwnerUserName&&n.detail.PrivateServerName&&n.detail.UniverseName?t.addedToWhiteListMessage(n.detail.OwnerUserName,n.detail.PrivateServerName,n.detail.UniverseName):t.default},getTag:function(n){return n.type},getOnClickRules:function(n){return{path:n.detail.StartPlaceId?"/games/"+n.detail.StartPlaceId+"/#!/game-instances":"/users/inventory#!/private-servers/other-private-servers",matchAny:!1}}};

;// Notifications/PushNotifications/PushNotificationTypeFormatters/TeamCreateInvite.js
var Roblox=Roblox||{};Roblox.PushNotificationTypeFormatters=Roblox.PushNotificationTypeFormatters||{},Roblox.PushNotificationTypeFormatters.TeamCreateInvite={getBody:function(n){var t=Roblox.PushNotificationMessages.teamCreateInvite;return!t||!n||!n.detail?null:n.detail.actingUsername&&n.detail.universeName?t.inviteReceived(n.detail.actingUsername,n.detail.universeName):t.default},getTag:function(n){return n?n.type:null},getOnClickRules:function(n){return{path:n.detail.rootPlaceId?"/games/"+n.detail.rootPlaceId:"/create",matchAny:!1}}};

;// ServiceWorker/Workers/PushNotificationServiceWorker.js
function getVersion(){return 2}function initEventPublisher(n){publisherInitialized||Roblox.EventStream&&(Roblox.EventStream.Init(n.eventStreamUrl),Roblox.EventStream.SetServiceWorkerMode(),eventPublisher=new Roblox.PushNotificationEventPublishers.NotificationHandling(getVersion()),publisherInitialized=!0)}function initNotificationTimeOutSettings(n){n.notificationTimeoutEnabled&&typeof n.notificationTimeoutEnabled=="boolean"&&(pushNotificationTimeout.enabled=n.notificationTimeoutEnabled),n.notificationTimeout&&typeof n.notificationTimeout=="number"&&(pushNotificationTimeout.period=n.notificationTimeout)}function createNotificationTimeout(n){var t={tag:n.tag};self.registration.getNotifications(t).then(function(t){if(n.data&&n.data.notificationId){var i=t.find(function(t){return t.data&&t.data.notificationId===n.data.notificationId});i&&setTimeout(function(){i.close()},pushNotificationTimeout.period)}})}function showNotification(n){return self.registration.showNotification(n.title,{body:n.body,icon:n.icon,tag:n.tag,data:n.data}).then(function(){pushNotificationTimeout.enabled&&createNotificationTimeout(n)})}function chooseMetatdataId(n){var t,i;for(Roblox&&Roblox.PushNotificationMetadataHistory||(Roblox.PushNotificationMetadataHistory={seen:{}}),t=0;t<n.length;t++)if(i=String(n[t]),!Roblox.PushNotificationMetadataHistory.seen[i])return Roblox.PushNotificationMetadataHistory.seen[i]=!0,i;return n[0]}function getEnvironmentSettings(){return Roblox.Fetch.get("/push-notifications/environment-settings?version=2").then(function(n){if(n.status!==200)throw"Invalid Endpoint List response";return n.json()}).then(function(n){return initEventPublisher(n),initNotificationTimeOutSettings(n),n})}function getNotificationMetadata(n,t){var i=t.metadataIdsEndpoint+"?platformType="+t.platformType+"&notificationToken="+n+"&limit=10&cursor=0";return Roblox.Fetch.get(i).then(function(n){if(n.status!==200)throw"Invalid Metadata ID List response";return n.json()}).then(function(i){if(!i||!i.ids||i.ids.length===0)throw"Invalid data or no metdata IDs returned";var r=chooseMetatdataId(i.ids),u=t.metadataLookupEndpoint+"?platformType="+t.platformType+"&notificationToken="+n+"&notificationId="+r;return Roblox.Fetch.get(u)}).then(function(n){if(n.status!==200)throw"Invalid Metadata response";return n.json()}).catch(function(){eventPublisher.Publish(Roblox.PushNotificationEventPublishers.NotificationHandlingEventTypes.metadataInaccessible,t.platformType)})}function notificationClickHandler(n){n.close();var i=null,r=!0,t=null;return getEnvironmentSettings().then(function(u){return t=u,i=t.clickTopLevelUrl,n&&n.data&&n.data.onClickRules&&(i=i+n.data.onClickRules.path,r=n.data.onClickRules.matchAny),clients.matchAll({type:"window"})}).then(function(n){for(var u,t=0;t<n.length;t++)if(u=n[t],(u.url===i||r)&&"focus"in u)return u.focus();if(clients.openWindow)return clients.openWindow(i);throw"Cannot show a window";}).then(function(){return registration.pushManager.getSubscription()}).then(function(i){var f=Roblox.PushNotificationRegistrationUtilities.getRegistrationToken(i);if(n&&n.data&&n.data.notificationId&&n.data.type){var u=n.data.notificationId,e=n.data.type,r={platformType:t.platformType,notificationId:u};Roblox.Fetch.post(t.markReadEndpoint,JSON.stringify(r)),r.notificationToken=f,r.interactionType="Click",Roblox.Fetch.post(t.markInteractedEndpoint,JSON.stringify(r)),eventPublisher.Publish(Roblox.PushNotificationEventPublishers.NotificationHandlingEventTypes.clicked,t.platformType,e,u)}})}function notificationCloseHandler(n){if(n&&n.data&&n.data.notificationId&&n.data.type){var t=n.data.notificationId,r=n.data.type,i;return registration.pushManager.getSubscription().then(function(n){return i=Roblox.PushNotificationRegistrationUtilities.getRegistrationToken(n),getEnvironmentSettings()}).then(function(n){var u={platformType:n.platformType,notificationToken:i,notificationId:t,interactionType:"Dismiss"};Roblox.Fetch.post(n.markInteractedEndpoint,JSON.stringify(u)),eventPublisher.Publish(Roblox.PushNotificationEventPublishers.NotificationHandlingEventTypes.dismissed,n.platformType,r,t)})}}self.addEventListener("install",function(){self.skipWaiting()}),self.addEventListener("activate",function(n){n.waitUntil(self.clients.claim())});var eventPublisher={publish:function(){}},publisherInitialized=!1,pushNotificationTimeout=Roblox.PushNotificationConstants.notificationTimeout;self.addEventListener("push",function(n){n.data;var i=null,t=null;n.waitUntil(registration.pushManager.getSubscription().then(function(n){if(!n)throw"No Subscription Found";return i=Roblox.PushNotificationRegistrationUtilities.getRegistrationToken(n),getEnvironmentSettings()}).then(function(n){return t=n,getNotificationMetadata(i,t)}).then(function(n){var r=n.metadata,i=Roblox.PushNotificationFormatter.getFormattedNotificationData(r,t.defaultIconUrl);if(i.data.type&&i.data.notificationId)return eventPublisher.Publish(Roblox.PushNotificationEventPublishers.NotificationHandlingEventTypes.metadataRetrieved,t.platformType,i.data.type,i.data.notificationId),showNotification(i);throw"Notification Type or Id missing";}).catch(function(){var i=null,r;return t&&(i=t.platformType),eventPublisher.Publish(Roblox.PushNotificationEventPublishers.NotificationHandlingEventTypes.fallbackNotificationShown,i),r=Roblox.PushNotificationFormatter.getDefaultNotificationData(),showNotification(r)}))}),self.addEventListener("notificationclick",function(n){n.waitUntil(notificationClickHandler(n.notification))}),self.addEventListener("notificationclose",function(n){n.waitUntil(notificationCloseHandler(n.notification))});

;//Bundle detector
Roblox && Roblox.BundleDetector && Roblox.BundleDetector.bundleDetected('serviceworkers_pushnotifications');